{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/skullcutter/WebStormProjects/stackoverflow-clone/frontend/components/OPActions.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { useQueryClient } from \"react-query\";\nimport host from \"../utils/host\";\nimport { getCookie } from \"../utils/functions\";\nimport { UserContext } from \"../context/UserContext\";\n\nvar OPActions = function OPActions(_ref) {\n  _s();\n\n  var uuid = _ref.uuid,\n      type = _ref.type,\n      setEditMode = _ref.setEditMode;\n  var userContext = useContext(UserContext);\n  var queryClient = useQueryClient();\n  var style = {\n    cursor: \"pointer\",\n    marginRight: \"20px\"\n  };\n\n  var edit = function edit() {\n    setEditMode(true);\n\n    if (type === \"question\") {\n      window.scrollBy(0, -1000);\n    }\n  };\n\n  var remove = function remove() {\n    if (userContext.user) {\n      var confirm = window.confirm(\"Are you sure you want to delete your \".concat(type, \"?\"));\n\n      if (confirm) {\n        if (type === \"answer\") {\n          fetch(\"\".concat(host, \"/posts/comments/\").concat(uuid), {\n            method: \"DELETE\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \".concat(getCookie(\"token\"))\n            },\n            body: JSON.stringify({\n              userUuid: userContext.user.uuid\n            })\n          }).then( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!(res.status >= 200 && res.status < 300)) {\n                        _context.next = 5;\n                        break;\n                      }\n\n                      _context.next = 3;\n                      return queryClient.prefetchQuery([\"individual-question\"]);\n\n                    case 3:\n                      _context.next = 6;\n                      break;\n\n                    case 5:\n                      alert(\"Something went wrong\");\n\n                    case 6:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n        } else if (type === \"question\") {\n          fetch(\"\".concat(host, \"/posts/\").concat(uuid), {\n            method: \"DELETE\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \".concat(getCookie(\"token\"))\n            },\n            body: JSON.stringify({\n              userUuid: userContext.user.uuid\n            })\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-1507055468\" + \" \" + \"actions-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-1507055468\" + \" \" + \"icons-container\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faEdit,\n          color: \"white\",\n          style: style,\n          size: \"1x\",\n          onClick: edit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTrashAlt,\n          color: \"white\",\n          style: style,\n          size: \"1x\",\n          onClick: remove\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"1507055468\",\n      children: \".actions-container.jsx-1507055468{width:95%;}.icons-container.jsx-1507055468{float:right;margin-top:-10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9za3VsbGN1dHRlci9XZWJTdG9ybVByb2plY3RzL3N0YWNrb3ZlcmZsb3ctY2xvbmUvZnJvbnRlbmQvY29tcG9uZW50cy9PUEFjdGlvbnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBGa0IsQUFHcUIsQUFJRSxVQUhkLEVBSW1CLGlCQUNuQiIsImZpbGUiOiIvVXNlcnMvc2t1bGxjdXR0ZXIvV2ViU3Rvcm1Qcm9qZWN0cy9zdGFja292ZXJmbG93LWNsb25lL2Zyb250ZW5kL2NvbXBvbmVudHMvT1BBY3Rpb25zLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBGb250QXdlc29tZUljb24gfSBmcm9tIFwiQGZvcnRhd2Vzb21lL3JlYWN0LWZvbnRhd2Vzb21lXCI7XG5pbXBvcnQgeyBmYUVkaXQsIGZhVHJhc2hBbHQgfSBmcm9tIFwiQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zXCI7XG5pbXBvcnQgeyB1c2VRdWVyeUNsaWVudCB9IGZyb20gXCJyZWFjdC1xdWVyeVwiO1xuXG5pbXBvcnQgaG9zdCBmcm9tIFwiLi4vdXRpbHMvaG9zdFwiO1xuaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSBcIi4uL3V0aWxzL2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgVXNlckNvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9Vc2VyQ29udGV4dFwiO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB1dWlkOiBzdHJpbmc7XG4gIHR5cGU6IFwicXVlc3Rpb25cIiB8IFwiYW5zd2VyXCI7XG4gIHNldEVkaXRNb2RlOiBSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxib29sZWFuPj47XG4gIGNvbW11bml0eT86IHN0cmluZztcbn1cblxuY29uc3QgT1BBY3Rpb25zOiBSZWFjdC5GQzxQcm9wcz4gPSAoeyB1dWlkLCB0eXBlLCBzZXRFZGl0TW9kZSB9KSA9PiB7XG4gIGNvbnN0IHVzZXJDb250ZXh0ID0gdXNlQ29udGV4dChVc2VyQ29udGV4dCk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgIG1hcmdpblJpZ2h0OiBcIjIwcHhcIixcbiAgfTtcblxuICBjb25zdCBlZGl0ID0gKCkgPT4ge1xuICAgIHNldEVkaXRNb2RlKHRydWUpO1xuXG4gICAgaWYgKHR5cGUgPT09IFwicXVlc3Rpb25cIikge1xuICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIC0xMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gKCkgPT4ge1xuICAgIGlmICh1c2VyQ29udGV4dC51c2VyKSB7XG4gICAgICBjb25zdCBjb25maXJtID0gd2luZG93LmNvbmZpcm0oXG4gICAgICAgIGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgJHt0eXBlfT9gXG4gICAgICApO1xuXG4gICAgICBpZiAoY29uZmlybSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJhbnN3ZXJcIikge1xuICAgICAgICAgIGZldGNoKGAke2hvc3R9L3Bvc3RzL2NvbW1lbnRzLyR7dXVpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Z2V0Q29va2llKFwidG9rZW5cIil9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJVdWlkOiB1c2VyQ29udGV4dC51c2VyLnV1aWQgfSksXG4gICAgICAgICAgfSkudGhlbihhc3luYyAocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICBhd2FpdCBxdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KFtcImluZGl2aWR1YWwtcXVlc3Rpb25cIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxlcnQoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInF1ZXN0aW9uXCIpIHtcbiAgICAgICAgICBmZXRjaChgJHtob3N0fS9wb3N0cy8ke3V1aWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2dldENvb2tpZShcInRva2VuXCIpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VyVXVpZDogdXNlckNvbnRleHQudXNlci51dWlkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxGb250QXdlc29tZUljb25cbiAgICAgICAgICAgIGljb249e2ZhRWRpdH1cbiAgICAgICAgICAgIGNvbG9yPXtcIndoaXRlXCJ9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICBzaXplPXtcIjF4XCJ9XG4gICAgICAgICAgICBvbkNsaWNrPXtlZGl0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEZvbnRBd2Vzb21lSWNvblxuICAgICAgICAgICAgaWNvbj17ZmFUcmFzaEFsdH1cbiAgICAgICAgICAgIGNvbG9yPXtcIndoaXRlXCJ9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICBzaXplPXtcIjF4XCJ9XG4gICAgICAgICAgICBvbkNsaWNrPXtyZW1vdmV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuYWN0aW9ucy1jb250YWluZXIge1xuICAgICAgICAgIHdpZHRoOiA5NSU7XG4gICAgICAgIH1cblxuICAgICAgICAuaWNvbnMtY29udGFpbmVyIHtcbiAgICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgICAgbWFyZ2luLXRvcDogLTEwcHg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgT1BBY3Rpb25zO1xuIl19 */\\n/*@ sourceURL=/Users/skullcutter/WebStormProjects/stackoverflow-clone/frontend/components/OPActions.tsx */\"\n    }, void 0, false, void 0, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(OPActions, \"yDVtR5vjLJXLAs8FtzP8bWLDQJ0=\", false, function () {\n  return [useQueryClient];\n});\n\n_c = OPActions;\nexport default OPActions;\n\nvar _c;\n\n$RefreshReg$(_c, \"OPActions\");","map":{"version":3,"sources":["/Users/skullcutter/WebStormProjects/stackoverflow-clone/frontend/components/OPActions.tsx"],"names":["React","useContext","FontAwesomeIcon","faEdit","faTrashAlt","useQueryClient","host","getCookie","UserContext","OPActions","uuid","type","setEditMode","userContext","queryClient","style","cursor","marginRight","edit","window","scrollBy","remove","user","confirm","fetch","method","headers","Authorization","body","JSON","stringify","userUuid","then","res","status","prefetchQuery","alert"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { useQueryClient } from \"react-query\";\n\nimport host from \"../utils/host\";\nimport { getCookie } from \"../utils/functions\";\nimport { UserContext } from \"../context/UserContext\";\n\ninterface Props {\n  uuid: string;\n  type: \"question\" | \"answer\";\n  setEditMode: React.Dispatch<React.SetStateAction<boolean>>;\n  community?: string;\n}\n\nconst OPActions: React.FC<Props> = ({ uuid, type, setEditMode }) => {\n  const userContext = useContext(UserContext);\n  const queryClient = useQueryClient();\n\n  const style = {\n    cursor: \"pointer\",\n    marginRight: \"20px\",\n  };\n\n  const edit = () => {\n    setEditMode(true);\n\n    if (type === \"question\") {\n      window.scrollBy(0, -1000);\n    }\n  };\n\n  const remove = () => {\n    if (userContext.user) {\n      const confirm = window.confirm(\n        `Are you sure you want to delete your ${type}?`\n      );\n\n      if (confirm) {\n        if (type === \"answer\") {\n          fetch(`${host}/posts/comments/${uuid}`, {\n            method: \"DELETE\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${getCookie(\"token\")}`,\n            },\n            body: JSON.stringify({ userUuid: userContext.user.uuid }),\n          }).then(async (res) => {\n            if (res.status >= 200 && res.status < 300) {\n              await queryClient.prefetchQuery([\"individual-question\"]);\n            } else {\n              alert(\"Something went wrong\");\n            }\n          });\n        } else if (type === \"question\") {\n          fetch(`${host}/posts/${uuid}`, {\n            method: \"DELETE\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${getCookie(\"token\")}`,\n            },\n            body: JSON.stringify({ userUuid: userContext.user.uuid }),\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"actions-container\">\n        <div className=\"icons-container\">\n          <FontAwesomeIcon\n            icon={faEdit}\n            color={\"white\"}\n            style={style}\n            size={\"1x\"}\n            onClick={edit}\n          />\n          <FontAwesomeIcon\n            icon={faTrashAlt}\n            color={\"white\"}\n            style={style}\n            size={\"1x\"}\n            onClick={remove}\n          />\n        </div>\n      </div>\n\n      <style jsx>{`\n        .actions-container {\n          width: 95%;\n        }\n\n        .icons-container {\n          float: right;\n          margin-top: -10px;\n        }\n      `}</style>\n    </React.Fragment>\n  );\n};\n\nexport default OPActions;\n"]},"metadata":{},"sourceType":"module"}