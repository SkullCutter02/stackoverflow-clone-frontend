{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useQuery } from \"react-query\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport hljs from \"highlight.js\";\nimport host from \"../utils/host\";\nimport * as css from \"../utils/cssVariables\";\nimport PageHandlers from \"./PageHandlers\";\n\nvar UserAnswers = function UserAnswers(_ref) {\n  var uuid = _ref.uuid;\n\n  var _useState = useState(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var fetchUserAnswers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(page) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"\".concat(host, \"/users/\").concat(uuid, \"/comments?page=\").concat(page, \"&limit=20\"));\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.json();\n\n            case 5:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchUserAnswers(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _useQuery = useQuery([\"user-answers\", page], function () {\n    return fetchUserAnswers(page);\n  }, {\n    keepPreviousData: true,\n    cacheTime: 0\n  }),\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError,\n      error = _useQuery.error,\n      data = _useQuery.data,\n      isPreviousData = _useQuery.isPreviousData;\n\n  useEffect(function () {\n    if (data) {\n      var pres = document.querySelectorAll(\"pre\");\n\n      for (var i = 0; i < pres.length; i++) {\n        hljs.highlightBlock(pres[i]);\n      }\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [isLoading ? /*#__PURE__*/_jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n      children: \"Loading...\"\n    }) : isError ? /*#__PURE__*/_jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n      children: error.message\n    }) : /*#__PURE__*/_jsx(React.Fragment, {\n      children: data.comments.length !== 0 ? /*#__PURE__*/_jsxs(\"div\", {\n        className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]) + \" \" + \"user-answers-container\",\n          children: data.comments.map(function (answer) {\n            var _answer$post;\n\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]) + \" \" + \"user-answer-container\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]) + \" \" + \"left\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n                  children: answer.votes\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n                  children: \"Votes\"\n                })]\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"/questions/\".concat(answer === null || answer === void 0 ? void 0 : (_answer$post = answer.post) === null || _answer$post === void 0 ? void 0 : _answer$post.uuid),\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]) + \" \" + \"main\",\n                  children: /*#__PURE__*/_jsx(ReactMarkdown, {\n                    source: answer.body,\n                    plugins: [remarkGfm],\n                    className: \"preview user-answer-markdown\"\n                  })\n                })\n              })]\n            });\n          })\n        }), /*#__PURE__*/_jsx(PageHandlers, {\n          page: page,\n          setPage: setPage,\n          isPreviousData: isPreviousData,\n          hasMore: data.hasMore,\n          width: 97\n        })]\n      }) : /*#__PURE__*/_jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]) + \" \" + \"empty\",\n        children: /*#__PURE__*/_jsx(\"h1\", {\n          className: _JSXStyle.dynamic([[\"2946301764\", [css.floatingPostBackground]]]),\n          children: \"This user doesn't have any answers...\"\n        })\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"2946301764\",\n      dynamic: [css.floatingPostBackground],\n      children: [\".user-answer-container.__jsx-style-dynamic-selector{margin:30px 20px;padding:15px 20px;background:\".concat(css.floatingPostBackground, \";border-radius:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"), \".empty.__jsx-style-dynamic-selector{height:300px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".left.__jsx-style-dynamic-selector{width:3%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".left.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{color:#dedede;font-size:0.9rem;}\", \".main.__jsx-style-dynamic-selector{width:97%;margin:-15px 25px;cursor:pointer;}\"]\n    })]\n  });\n};\n\nexport default UserAnswers;","map":null,"metadata":{},"sourceType":"module"}