{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCaretDown, faCaretUp, faSignOutAlt, faIdBadge, faUsersCog } from \"@fortawesome/free-solid-svg-icons\";\nimport { UserContext } from \"../context/UserContext\";\nimport host from \"../utils/host\";\nimport * as css from \"../utils/cssVariables\";\n\nvar Navbar = function Navbar() {\n  var _userContext$user, _userContext$user2, _userContext$user3;\n\n  var _useState = useState(\"down\"),\n      caretStatus = _useState[0],\n      setCaretStatus = _useState[1];\n\n  var userContext = useContext(UserContext);\n  var router = useRouter();\n\n  var logOut = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(\"\".concat(host, \"/auth/logout\"), {\n                method: \"POST\",\n                credentials: \"include\"\n              });\n\n            case 3:\n              userContext.setState(null);\n              _context.next = 6;\n              return router.reload();\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function logOut() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var hideNav = function hideNav() {\n    setCaretStatus(caretStatus === \"down\" ? \"up\" : \"down\");\n    var popUps = document.getElementsByClassName(\"pop-up-item\");\n\n    for (var i = 0; i < popUps.length; i++) {\n      if (caretStatus === \"up\") {\n        var popUp = popUps[i];\n        popUp.style.visibility = \"hidden\";\n      } else if (caretStatus === \"down\") {\n        var _popUp = popUps[i];\n        _popUp.style.visibility = \"visible\";\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"nav\", {\n      className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]),\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-top-line\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-container\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-left\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-site-name\",\n              children: \"AskProgramming\"\n            })\n          })\n        }), userContext.user === undefined ? /*#__PURE__*/_jsxs(\"div\", {\n          className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-right\",\n          children: [/*#__PURE__*/_jsx(Link, {\n            href: \"/auth/login?redirect=\".concat(router.asPath),\n            children: /*#__PURE__*/_jsx(\"button\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-auth-btn nav-log-in-btn\",\n              children: \"Log In\"\n            })\n          }), /*#__PURE__*/_jsx(Link, {\n            href: \"/auth/signup?redirect=\".concat(router.asPath),\n            children: /*#__PURE__*/_jsx(\"button\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-auth-btn nav-sign-up-btn\",\n              children: \"Sign Up\"\n            })\n          })]\n        }) : /*#__PURE__*/_jsxs(\"div\", {\n          className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"nav-right signed-in\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            onClick: hideNav,\n            className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"signed-in-state og\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"username\",\n              children: userContext === null || userContext === void 0 ? void 0 : (_userContext$user = userContext.user) === null || _userContext$user === void 0 ? void 0 : _userContext$user.username\n            }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: caretStatus === \"down\" ? faCaretDown : faCaretUp,\n              color: \"white\",\n              size: \"1x\",\n              style: {\n                marginRight: \"20px\"\n              }\n            })]\n          }), /*#__PURE__*/_jsx(Link, {\n            href: \"/user/\".concat(userContext === null || userContext === void 0 ? void 0 : (_userContext$user2 = userContext.user) === null || _userContext$user2 === void 0 ? void 0 : _userContext$user2.username, \"?type=question\"),\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              onClick: function onClick() {\n                setCaretStatus(\"down\");\n                var popUps = document.getElementsByClassName(\"pop-up-item\");\n\n                for (var i = 0; i < popUps.length; i++) {\n                  var popUp = popUps[i];\n                  popUp.style.visibility = \"hidden\";\n                }\n              },\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"signed-in-state pop-up-item\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"pop-up-txt\",\n                children: \"Profile\"\n              }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n                icon: faIdBadge,\n                color: \"white\",\n                size: \"1x\",\n                style: {\n                  marginRight: \"10px\"\n                }\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            onClick: logOut,\n            className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"signed-in-state pop-up-item\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"pop-up-txt\",\n              children: \"Logout\"\n            }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faSignOutAlt,\n              color: \"white\",\n              size: \"1x\",\n              style: {\n                marginRight: \"10px\"\n              }\n            })]\n          }), (userContext === null || userContext === void 0 ? void 0 : (_userContext$user3 = userContext.user) === null || _userContext$user3 === void 0 ? void 0 : _userContext$user3.role) === \"god\" ? /*#__PURE__*/_jsxs(\"div\", {\n            onClick: function onClick() {\n              router.push(\"/admin\");\n              hideNav();\n            },\n            className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"signed-in-state pop-up-item\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]]) + \" \" + \"pop-up-txt\",\n              children: \"Admin Area\"\n            }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faUsersCog,\n              color: \"white\",\n              size: \"1x\",\n              style: {\n                marginRight: \"10px\"\n              }\n            })]\n          }) : /*#__PURE__*/_jsx(\"div\", {\n            className: _JSXStyle.dynamic([[\"3043143812\", [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover]]])\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"3043143812\",\n      dynamic: [css.secondaryBackground, css.buttonBorder, css.mainButton, css.mainButtonText, css.mainButtonHover, css.mainButtonTextHover, css.secondaryButtonText, css.secondaryButton, css.secondaryButtonHover, css.secondaryButtonTextHover],\n      children: [\".nav-top-line.__jsx-style-dynamic-selector{width:100%;height:4px;background:#c46215;}\", \".nav-container.__jsx-style-dynamic-selector{background:\".concat(css.secondaryBackground, \";width:100%;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;box-shadow:0 3px 5px #151515;}\"), \".nav-site-name.__jsx-style-dynamic-selector{color:#f2f2f2;margin-left:50px;font-size:1.3rem;cursor:pointer;padding:10px 20px;height:100%;}\", \".nav-site-name.__jsx-style-dynamic-selector:hover{background:#4a4a4a;}\", \".nav-left.__jsx-style-dynamic-selector{width:50%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".nav-right.__jsx-style-dynamic-selector{width:50%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\", \".nav-auth-btn.__jsx-style-dynamic-selector{width:80px;height:60%;border-radius:4px;border:1.5px solid \".concat(css.buttonBorder, \";margin:0 10px;cursor:pointer;}\"), \".nav-sign-up-btn.__jsx-style-dynamic-selector{margin-right:17%;background:\".concat(css.mainButton, \";color:\").concat(css.mainButtonText, \";}\"), \".nav-sign-up-btn.__jsx-style-dynamic-selector:hover{background:\".concat(css.mainButtonHover, \";color:\").concat(css.mainButtonTextHover, \";}\"), \".nav-log-in-btn.__jsx-style-dynamic-selector{color:\".concat(css.secondaryButtonText, \";background:\").concat(css.secondaryButton, \";}\"), \".nav-log-in-btn.__jsx-style-dynamic-selector:hover{background:\".concat(css.secondaryButtonHover, \";border:1.5px solid #4d606d;color:\").concat(css.secondaryButtonTextHover, \";}\"), \".signed-in-state.__jsx-style-dynamic-selector{border:2px solid #888888;background:#414141;z-index:1000;margin-right:40px;height:80%;width:170px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}\", \".signed-in-state.__jsx-style-dynamic-selector>.username.__jsx-style-dynamic-selector{margin:0 20px;}\", \".signed-in.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;height:100px;width:25%;}\", \".og.__jsx-style-dynamic-selector{margin-top:5px;}\", \".pop-up-item.__jsx-style-dynamic-selector{border:none;border-right:2px solid #888888;border-left:2px solid #888888;border-bottom:2px solid #888888;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;visibility:hidden;}\"]\n    })]\n  });\n};\n\nexport default Navbar;","map":null,"metadata":{},"sourceType":"module"}